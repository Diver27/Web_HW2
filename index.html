<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>影片库</title>
    <style>
        #filmList {
            width: 100%;
        }

        #filmList th {
            text-align: left;
        }

        #filmList tr:nth-child(2n) {
            background: #f5f5f4;
        }
    </style>
</head>
<body>
<h1>影片列表</h1>
<p>按照films.json原始顺序</p>
<hr>
<div id="list"></div>
<script>
    var list = document.getElementById("list");
    function newTable(filmsJson) {
        var tableObj = document.createElement("table");
        tableObj.setAttribute("id", "filmList");

        /**
         * 创建Header
         * @type {HTMLTableRowElement}
         */
        var trObj = document.createElement("tr");
        var thObj1 = document.createElement("th");
        var thObj2 = document.createElement("th");
        var thObj3 = document.createElement("th");
        thObj1.append("影片名");
        thObj2.append("评分");
        thObj3.append("导演");
        trObj.append(thObj1, thObj2, thObj3);
        tableObj.appendChild(trObj);

        var filmList=filmsJson['films'];


        list.appendChild(tableObj);
    }

    window.onload = function getJson() {
        var requestURL = './films.json';
        var request = new XMLHttpRequest();
        request.open('GET', requestURL);
        request.responseType = 'text';
        request.send();

        request.onload = function () {
            var filmsJson = JSON.parse(request.response);
            newTable(filmsJson);
        }
    }
</script>
</body>
</html>